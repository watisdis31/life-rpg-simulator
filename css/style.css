/* ===============================
   CORE RPG COLORS
================================ */
:root {
  --bg-dungeon: #1b2430;
  --bg-panel: #2e3a4f;
  --bg-panel-alt: #3b4f6b;
  --bg-parchment: #f4e9c9;

  --border-dark: #0b0f14;
  --border-light: #6c86a5;

  --text-main: #f5f5f5;
  --text-muted: #c7c7c7;
  --accent-gold: #f6c453;
  --accent-cyan: #4de3ff;
}

/* ===============================
   GLOBAL BASE
================================ */
body {
  background: repeating-linear-gradient(
    45deg,
    #1b2430,
    #1b2430 8px,
    #1f2b3a 8px,
    #1f2b3a 16px
  );
  color: var(--text-main);
  font-family: bw2, PressStart2P, monospace;
  font-size: 1.4rem;
  margin: 0;
}

/* ===============================
   TEXT CONTRAST FIX
================================ */
h5,
h6,
p,
small,
div {
  color: var(--text-main);
}

.trainer-title,
.text-muted {
  color: #cfd8e3 !important;
}

/* Light panel text */
.quest-item {
  color: #1a1a1a;
}

#weeklyStats,
#trainerCard {
  color: var(--text-main);
}

/* ===============================
   HEADER
================================ */
.container h4 {
  font-family: "PressStart2P";
  text-align: center;
  font-size: 40px;
  color: var(--accent-gold);
  text-shadow: 3px 3px #000;
  margin-bottom: 16px;
}

/* ===============================
   PANELS (BW2 STYLE)
================================ */
.trainer-card,
#questList,
#weeklyStats {
  background: linear-gradient(180deg, var(--bg-panel-alt), var(--bg-panel));
  border: 5px solid var(--border-dark);
  padding: 16px;
  box-shadow:
    inset 0 0 0 3px var(--border-light),
    6px 6px 0 #000;
}

/* ===============================
   TRAINER NAME (INTERACTIVE!)
================================ */
.trainer-name {
  font-size: 1.8rem;
  background: transparent;
  border: none;
  color: var(--accent-cyan);
  cursor: pointer;
  transition:
    transform 0.12s steps(2),
    color 0.12s;
  margin-left: -10px;
}

.trainer-name:hover {
  color: var(--accent-gold);
  transform: translateY(-2px);
  text-shadow: 2px 2px #000;
}

.trainer-name:focus {
  outline: none;
  border-bottom: 3px dashed var(--accent-gold);
}

/* Title */
.trainer-title {
  font-size: 1.2rem;
  color: var(--text-muted);
  margin-left: -9px;
}

/* ===============================
   AVATAR (VERY IMPORTANT)
================================ */
.avatar-wrapper {
  display: inline-block;
  padding: 6px;
  background: var(--bg-panel-alt);
  border: 4px solid var(--border-dark);
  box-shadow: 4px 4px #000;
  cursor: pointer;
  transition:
    transform 0.12s steps(2),
    box-shadow 0.12s;
}

.avatar-wrapper:hover {
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px var(--accent-cyan);
}

.avatar-img,
.avatar-circle {
  width: 72px;
  height: 72px;
  image-rendering: pixelated;
  border: 3px solid var(--border-dark);
}

/* ===============================
   EXP BAR
================================ */
.exp-bar {
  width: 100%;
  height: 12px;
  background-color: #1a1f2e;
  border: 3px solid #000;
  outline: 2px solid #e8e8e8;
  box-shadow: 2px 2px 0 #000;
  overflow: hidden;
  position: relative;
}

/* Actual EXP fill */
.progress-bar {
  height: 100%;
  width: 0%;
  background-color: #4fd2ff;

  image-rendering: pixelated;

  /* IMPORTANT: chunky RPG fill */
  transition: width 0.4s steps(10);

  position: relative;
}

.progress-bar::after {
  content: "";
  position: absolute;
  inset: 0;

  background-image: repeating-linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.25) 0 2px,
    transparent 2px 6px
  );

  opacity: 0.3;
  animation: expShimmer 2.5s steps(12) infinite;
}

@keyframes expShimmer {
  from {
    background-position: 0 0;
  }
  to {
    background-position: 48px 0;
  }
}

/* ===============================
   DAILY QUESTS (GAME MENU)
================================ */
.quest-item {
  font-size: 1.35rem;
  padding: 18px 16px;
  margin-bottom: 10px;

  background: linear-gradient(180deg, #f2e4b8, #e1d19a);

  border: 4px solid #000;
  box-shadow: 4px 4px #000;

  cursor: pointer;
  position: relative;

  transition:
    transform 0.1s steps(2),
    box-shadow 0.1s steps(2);
}

.quest-item::before {
  content: "â–¶";
  position: absolute;
  left: -24px;
  opacity: 0;
  color: var(--accent-gold);
}

.quest-item:hover {
  transform: translate(-2px, -2px);
  box-shadow: 6px 6px #000;
}

.quest-item:hover::before {
  opacity: 1;
}

/* Completed quest */
.quest-item.done {
  opacity: 0.55;
  text-decoration: line-through;
}

/* ===============================
   WEEKLY STATS
================================ */
#weeklyStats {
  background: linear-gradient(180deg, #24364d, #1b2a3a);
}

/* ===============================
   BUTTONS (SHOVEL KNIGHT STYLE)
================================ */
.btn {
  font-family: "PressStart2P";
  font-size: 1rem;
  padding: 14px 18px;
  background: var(--accent-gold);
  color: #000;

  border: 4px solid #000;
  box-shadow: 4px 4px #000;
}

.btn:active {
  transform: translate(2px, 2px);
  box-shadow: none;
}

/* ===============================
   DAILY RESET TIMER (CRITICAL)
================================ */
#dailyResetTimer {
  font-family: "PressStart2P", monospace;
  font-size: 1.1rem;

  color: #ffffff !important;
  background: linear-gradient(180deg, #1a2233, #0f1522);

  border: 4px solid #000;
  box-shadow: 4px 4px #000;

  padding: 14px 16px;
  display: inline-block;

  letter-spacing: 1px;
  text-shadow: 2px 2px #000;
}

/* ===============================
    MOBILE
================================ */
@media (max-width: 768px) {
  body {
    font-size: 1.5rem;
  }

  .quest-item {
    font-size: 1.5rem;
    padding: 24px 18px;
  }

  .avatar-img,
  .avatar-circle {
    width: 88px;
    height: 88px;
  }

  .btn {
    padding: 18px 22px;
  }
}

@media (max-width: 480px) {
  .exp-bar {
    height: 16px;
  }
}